(this.webpackJsonprpg_map=this.webpackJsonprpg_map||[]).push([[0],[,,,function(e,t,n){var o={"./fall.png":14,"./flower.png":15,"./spring.png":16,"./winter.png":17};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=3},,,,function(e,t,n){e.exports=n(21)},,,,,,,function(e,t,n){e.exports=n.p+"static/media/fall.29cbe0d4.png"},function(e,t,n){e.exports=n.p+"static/media/flower.f00a854a.png"},function(e,t,n){e.exports=n.p+"static/media/spring.4ad9d4a2.png"},function(e,t,n){e.exports=n.p+"static/media/winter.a1cf1d29.png"},function(e){e.exports=JSON.parse('{"map-sprites":{"variants":["spring","fall","winter","flower"],"size":{"height":288,"width":640}}}')},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAXUlEQVRYhe2TsQ3AMAgEIfJO7F/CUkQuHUfpsCP5rqR59K8TgOPRZwHunpWlmNmQee1eoL3cplYqmcIySxcQ1THyfxNExN4H+grFmVjwHYYFWLAaLMACLAA4HBG5AVjhF1SJkEfSAAAAAElFTkSuQmCC"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(4),i=n.n(r),c=n(1);var l=function(e){var t=Object(o.useState)({x:50,y:0}),n=Object(c.a)(t,2),a=n[0],r=n[1];Object(o.useEffect)((function(){var t=document.getElementById(e);return t.addEventListener("mousedown",(function(e){e.preventDefault(),t.style.pointerEvents="none",document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",(function(){document.body.removeEventListener("mousemove",i),t.style.pointerEvents="initial"}))})),function(){document.body.removeEventListener("mousedown",i),document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i)}}),[]);var i=function(e){var t={x:e.clientX,y:e.clientY};r(t)};return{position:a}},s=n(2),d=n(6),u=n.n(d),p=(n(13),function(e){var t=e.tiles,r=e.tileset,i=e.size,c=e.activeTile,l=e.setTiles,d=e.zIndex,u=e.setzIndex,p=e.boolSwap,b=function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n].slice(0);return t};return Object(o.useEffect)((function(){u(p?{front:1,back:2}:{front:2,back:1})}),[p]),a.a.createElement("div",{style:{boxSizing:"border-box",backgroundColor:"white",width:i.width}},a.a.createElement("div",{style:{position:"absolute",zIndex:1}},t.map((function(e,t){return a.a.createElement("div",{style:{display:"flex"}},e.map((function(e,t){return a.a.createElement("div",{style:{borderTop:"1px solid black",borderRight:"1px solid black",borderBottom:"1px solid black",background:"url("+n(3)("./".concat(e.background_set,".png"))+") "+"-".concat(e.background.x,"px -").concat(e.background.y,"px no-repeat"),width:32,height:32}})})))}))),a.a.createElement("div",{style:{position:"absolute",zIndex:d.back}},t.map((function(e,t){return a.a.createElement("div",{style:{display:"flex"}},e.map((function(e,o){return a.a.createElement("div",{className:"box back",onClick:function(){return function(e){var t=e.x,n=e.y,o=e.tileset;l((function(e){var a=b(e),r=Object(s.a)(Object(s.a)({},a[n][t]),{},{b:c,season_back:o});return a[n][t]=r,console.log("dropBack",a),a}))}({x:o,y:t,tileset:r})},style:{borderTop:"1px solid black",borderRight:"1px solid black",borderBottom:"1px solid black",background:"url("+n(3)("./".concat(e.season_back,".png"))+") "+"-".concat(e.b.x,"px -").concat(e.b.y,"px no-repeat"),width:32,height:32}})})))}))),a.a.createElement("div",{style:{position:"absolute",zIndex:d.front}},t.map((function(e,t){return a.a.createElement("div",{style:{display:"flex"}},e.map((function(e,o){return a.a.createElement("div",{className:"box front",onClick:function(){return function(e){var t=e.x,n=e.y,o=e.tileset;l((function(e){var a=b(e),r=Object(s.a)(Object(s.a)({},a[n][t]),{},{v:c,season_front:o});return a[n][t]=r,console.log("clone",a),a}))}({x:o,y:t,tileset:r})},style:{borderTop:"1px solid black",borderRight:"1px solid black",borderBottom:"1px solid black",background:"url("+n(3)("./".concat(e.season_front,".png"))+") "+"-".concat(e.v.x,"px -").concat(e.v.y,"px no-repeat"),width:32,height:32}})})))}))))}),b=function(e){for(var t=e.tileset,o=e.position,r=e.activeTile,i=e.setActiveTile,c=e.setTileset,l=e.setBoolSwap,d=e.setTiles,p=e.tiles,b=n(18),f=Object.keys(b).map((function(e){return{type:"group",name:e.replace(/-/g," "),items:b[e].variants.map((function(e){return{value:"".concat(e),label:e}}))}})),m=b["map-sprites"].size,g=m.width,v=m.height,x=[],h=0,y=0;y<v;y+=32){for(var k=[],E=0;E<g;E+=32)k.push({x:E,y:y,id:h++});x.push(k)}var w=function(e,t,n){d((function(o){var a=function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n].slice(0);return t}(o),i=Object(s.a)(Object(s.a)({},a[t][e]),{},{background:r,background_set:n});return a[t][e]=i,a}))};return a.a.createElement("div",{id:"palette",style:{position:"absolute",border:"1px solid black",top:o.y,left:o.x,zIndex:10,backgroundColor:"white"}},a.a.createElement("div",{style:{display:"flex",marginBottom:4,marginTop:4}},a.a.createElement("img",{id:"handle",src:n(19),alt:"handle"}),a.a.createElement("div",{style:{background:"url("+n(3)("./".concat(t,".png"))+") "+"-".concat(r.x,"px -").concat(r.y,"px no-repeat"),width:32,height:32,border:"2px solid red"}}),a.a.createElement("div",{style:{width:200,marginLeft:8}},a.a.createElement(u.a,{value:t,options:f,onChange:function(e){return c(e.value)}})),a.a.createElement("div",{style:{marginLeft:8}},a.a.createElement("button",{onClick:function(){p.map((function(e,n){e.map((function(e,o){w(o,n,t)}))}))},style:{padding:"6px 20px",fontSize:14}},"FILL")),a.a.createElement("div",{style:{marginLeft:8}},a.a.createElement("button",{onClick:function(){return l((function(e){return!e}))},style:{padding:"6px 20px",fontSize:14}},"SWAP"))),a.a.createElement("div",{style:{position:"absolute",zIndex:10,opacity:.55}},x.map((function(e,t){return a.a.createElement("div",{style:{display:"flex"}},e.map((function(e,n){return a.a.createElement("div",{className:"box",onClick:function(){return i({x:32*n,y:32*t})},style:{borderTop:"1px solid black",borderRight:"1px solid black",width:32,height:32}})})))}))),a.a.createElement("div",null,x.map((function(e,o){return a.a.createElement("div",{style:{display:"flex"}},e.map((function(e,r){return a.a.createElement("div",{style:{borderTop:"1px solid black",borderRight:"1px solid black",background:"url("+n(3)("./".concat(t,".png"))+") "+"-".concat(32*r,"px -").concat(32*o,"px no-repeat"),width:32,height:32}})})))}))))};n(20);var f=function(){var e=Object(o.useState)("spring"),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(o.useState)({x:32,y:128}),s=Object(c.a)(i,2),d=s[0],u=s[1],f=Object(o.useState)([]),m=Object(c.a)(f,2),g=m[0],v=m[1],x=Object(o.useState)({width:600,height:600}),h=Object(c.a)(x,2),y=h[0],k=(h[1],Object(o.useState)(!1)),E=Object(c.a)(k,2),w=E[0],A=E[1],O=Object(o.useState)({front:3,back:2}),j=Object(c.a)(O,2),T=j[0],S=j[1],z=Object(o.useRef)(1),C=l("handle").position;return Object(o.useEffect)((function(){z.current++,console.log("Rendered:",z.current);for(var e=[],t=0,n=0;n<y.height;n+=32){for(var o=[],a=0;a<y.width;a+=32)o.push({x:a,y:n,id:t++,v:{x:160,y:0},season_front:"spring",season_back:"spring",b:{x:-32,y:-32},background:{x:-32,y:-32},background_set:"spring"});e.push(o)}v(e)}),[]),a.a.createElement("div",{style:{position:"relative",width:window.innerWidth,height:window.innerHeight,backgroundColor:"grey",overflow:"hidden",border:"1px solid black"}},a.a.createElement(b,{position:C,tileset:n,activeTile:d,setActiveTile:u,setTileset:r,setBoolSwap:A,setTiles:v,tiles:g}),a.a.createElement(p,{tiles:g,tileset:n,size:y,activeTile:d,setTiles:v,setTileset:r,zIndex:T,setzIndex:S,boolSwap:w}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.2d7c7956.chunk.js.map